# 生产环境

目前生产环境是使用`webpack`配合`ts-loader`来实现对生产环境代码的编译的，但是webpack对于source-map的生成实在是太慢了。

目前有几种办法：

## 使用ts-node作为生产环境

在网上查了一些资料，是有人尝试直接使用ts-node作为生产环境的，似乎有参数可以让它只编译，不检查type，这样就会快很多，而且如果也能支持`--inspect`远程调试的话，岂不美哉。

## 使用tsc编译

用`tsc`其实是比较通用的做法，它会保留整个项目结构，看起来似乎值得一试。

# 实现node热更新

热更新在前端开发很有用，但在node端似乎不太常用，因为`nodemon`重启的速度一般也不慢。

不过确实在思考如果node项目很大了怎么办，事实上目前业务上就遇到了这个问题。看到一篇[文章](https://segmentfault.com/a/1190000009023924)有介绍怎么通过webpack实现热更新，其实是行得通的。

剩下的就是性价比高不高的问题了，因为不比成熟的`react-hot-loader`，如果要自己处理热更新模块，还是比较麻烦的，目录结构上也做了诸多限制。